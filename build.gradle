// TODO: WIP - don't use yet
apply plugin: 'maven'

group = 'org.javasimon'

repositories {
	mavenCentral()
}

subprojects {
	apply plugin: 'java'
    apply plugin: 'jacoco'

	repositories {
		mavenCentral()
	}

	dependencies {
		testCompile 'org.testng:testng:6.5.2'
		testCompile 'org.mockito:mockito-core:1.9.0'
		testCompile 'org.springframework:spring-test:3.2.2.RELEASE'
	}

	version = '3.4.0-SNAPSHOT'

    sourceCompatibility = '1.6'
    targetCompatibility = '1.6'

    compileJava {
        options.compilerArgs << '-bootclasspath' << System.getenv('JDK6.HOME') + '\\jre\\lib\\rt.jar;' + System.getenv('JDK6.HOME') + '\\jre\\lib\\jce.jar'
        options.fork = true
        options.forkOptions.executable = 'javac'
    }

    jar {
		manifest.attributes provider: 'gradle'
	}

	test {
		useTestNG()
	}
}