{
	"variables": {
		"guest_additions_mode": "attach",
		"headless": "false",
		"iso_checksum": "93845bbcc9677000df76cb2a5267c8eb52995bae",
		"iso_url": "file:///g:/work/vm-images/10586.0.151029-1700.TH2_RELEASE_CLIENTENTERPRISEEVAL_OEMRET_X64FRE_EN-US.ISO",
		"_iso_url": "http://care.dlservice.microsoft.com/dl/download/B/B/3/BB3611B6-9781-437F-A293-AB43B85C2190/10586.0.151029-1700.TH2_RELEASE_CLIENTENTERPRISEEVAL_OEMRET_X64FRE_EN-US.ISO"
	},
	"builders": [
		{
			"type": "virtualbox-iso",
			"vboxmanage": [
				[
					"modifyvm",
					"{{.Name}}",
					"--natpf1",
					"guest_winrm,tcp,,55985,,5985"
				],
				[
					"modifyvm",
					"{{.Name}}",
					"--memory",
					"2048"
				],
				[
					"modifyvm",
					"{{.Name}}",
					"--vram",
					"48"
				],
				[
					"modifyvm",
					"{{.Name}}",
					"--cpus",
					"2"
				]
			],
			"guest_additions_mode": "{{ user `guest_additions_mode` }}",
			"guest_additions_path": "C:/users/vagrant/VBoxGuestAdditions.iso",
			"guest_os_type": "Windows10_64",
			"headless": "{{ user `headless` }}",
			"iso_url": "{{ user `iso_url` }}",
			"iso_checksum": "{{ user `iso_checksum` }}",
			"iso_checksum_type": "sha1",
			"communicator": "winrm",
			"winrm_username": "vagrant",
			"winrm_password": "vagrant",
			"winrm_timeout": "8h",
			"shutdown_command": "net stop winrm && C:/windows/system32/sysprep/sysprep.exe /generalize /oobe /unattend:C:/Windows/Panther/Unattend/unattend.xml /quiet /reboot",
			"shutdown_timeout": "15m",
			"floppy_files": [
				"floppy/Autounattend.xml",
				"floppy/boxstarter.ps1",
				"floppy/package.ps1",
				"floppy/provision.ps1",
				"floppy/oracle.cer",
				"floppy/postunattend.xml",
				"floppy/SetupComplete.cmd",
				"floppy/PackerShutdown.bat"
			],
			"vboxmanage_post": [
				[
					"storageattach",
					"{{.Name}}",
					"--storagectl",
					"IDE Controller",
					"--port",
					"1",
					"--device",
					"0",
					"--medium",
					"none"
				]
			]
		}
	],
	"provisioners": [
		{
			"type": "powershell",
			"script": "floppy/provision.ps1"
		}
	],
	"post-processors": [
		[
			{
				"type": "vagrant",
				"keep_input_artifact": true,
				"output": "windows10-{{.Provider}}.box",
				"vagrantfile_template": "Vagrantfile"
			}
		]
	]
}
